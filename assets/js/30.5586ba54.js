(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{296:function(s,t,a){"use strict";a.r(t);var e=a(14),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"vscode-保存时自动修复-eslint-错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vscode-保存时自动修复-eslint-错误"}},[s._v("#")]),s._v(" VsCode 保存时自动修复 Eslint 错误")]),s._v(" "),t("p",[s._v("同一个项目，保持代码风格的一致，是非常重要的一个规范。但事实上项目小组成员的代码校验规则、格式化工具通常都不一致，为了避免项目到后期出现无法维护的问题，项目成员使用同一套校验规则，同一个格式化方式是相当好的步骤之一。")]),s._v(" "),t("blockquote",[t("p",[s._v("游泳、健身了解一下："),t("a",{attrs:{href:"http://obkoro1.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("博客"),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"http://obkoro1.com/web_accumulate/accumulate/",target:"_blank",rel:"noopener noreferrer"}},[s._v("前端积累文档"),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/1631b6f52f7e7015.jpeg?raw=true",target:"_blank",rel:"noopener noreferrer"}},[s._v("公众号"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"保存时自动统一代码风格"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保存时自动统一代码风格"}},[s._v("#")]),s._v(" 保存时自动统一代码风格：")]),s._v(" "),t("p",[s._v("先通过一些简单的配置，然后：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Ctrl")]),s._v("+"),t("code",[s._v("s")]),s._v(" / "),t("code",[s._v("command")]),s._v("+"),t("code",[s._v("s")]),s._v(" 时自动修复代码的格式错误")]),s._v(" "),t("li",[s._v("自动修复的规则是读取项目根目录的 Eslint 规则")]),s._v(" "),t("li",[s._v("这样就能保证项目成员都是一套验证规则的代码风格")])]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置：")]),s._v(" "),t("h3",{attrs:{id:"_1-安装-vscode-的eslint和vetur插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-vscode-的eslint和vetur插件"}},[s._v("#")]),s._v(" 1.安装 VsCode 的"),t("code",[s._v("EsLint")]),s._v("和"),t("code",[s._v("vetur")]),s._v("插件")]),s._v(" "),t("p",[s._v("如图安装"),t("code",[s._v("EsLint")]),s._v("插件：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/165e132647eca15f?raw=true",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"_2-为项目安装eslint包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-为项目安装eslint包"}},[s._v("#")]),s._v(" 2.为项目安装"),t("code",[s._v("EsLint")]),s._v("包：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/165e136abe3b1feb?raw=true",alt:""}})]),s._v(" "),t("p",[s._v("注意要安装在开发环境上，还有就是如果你使用的是脚手架的话，选了 Eslint 选项，会自带这些包。")]),s._v(" "),t("h3",{attrs:{id:"_3-在项目的根目录下添加-eslintrc-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-在项目的根目录下添加-eslintrc-js"}},[s._v("#")]),s._v(" 3.在项目的根目录下添加"),t("code",[s._v(".eslintrc.js")])]),s._v(" "),t("p",[s._v("用于校验代码格式，根据项目情况，可自行编写校验规则：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Eslint规则")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_4-首选项设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-首选项设置"}},[s._v("#")]),s._v(" 4.首选项设置：")]),s._v(" "),t("p",[s._v("将下面这部分放入首选项设置中：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslint.autoFixOnSave"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  启用保存时自动修复,默认只支持.js文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"eslint.validate"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javascript"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  用eslint的规则检测js文件")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"language"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vue"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 检测vue文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"autoFix"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  为vue文件开启保存自动修复的功能")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"language"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"autoFix"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("想了解更多的话，推荐看一下 VsCode 的"),t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint",target:"_blank",rel:"noopener noreferrer"}},[s._v("EsLint"),t("OutboundLink")],1),s._v("插件")]),s._v(" "),t("h3",{attrs:{id:"大功告成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#大功告成"}},[s._v("#")]),s._v(" 大功告成：")]),s._v(" "),t("p",[s._v("点开文件，你可能会看到如下报错，无需一个一个去改，只要保存一下文件，就可以自动修复这些代码格式上的问题了。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/165e151df42747c4?raw=true",alt:""}})]),s._v(" "),t("p",[t("strong",[s._v("注意：")])]),s._v(" "),t("p",[s._v("如果整个文件都飘红的话，不会一次性修改如果的格式问题，会一下改一部分，你可能需要多按几次保存。")]),s._v(" "),t("h3",{attrs:{id:"一键修复项目格式问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一键修复项目格式问题"}},[s._v("#")]),s._v(" 一键修复项目格式问题：")]),s._v(" "),t("p",[s._v("遇到下面这两种情况：")]),s._v(" "),t("ul",[t("li",[s._v("你刚刚引入这个自动修复，但你项目的文件比较多，且你又比较懒。")]),s._v(" "),t("li",[s._v("隔一段时间，修复一下代码格式上的问题")])]),s._v(" "),t("p",[s._v("你可以像下面这样，在"),t("code",[s._v("package.json")]),s._v("里面的"),t("code",[s._v("scripts")]),s._v("里面新增一条如下命令：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --ext .js,.vue src --fix"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://github.com/OBKoro1/articleImg_src/blob/master/juejin/165e1561a9b92866?raw=true",alt:""}})]),s._v(" "),t("p",[t("code",[s._v("--ext")]),s._v("后面跟上的"),t("code",[s._v(".js")]),s._v("、"),t("code",[s._v(".vue")]),s._v("是你要检测文件的后缀，"),t("code",[s._v(".vue")]),s._v("后面的"),t("code",[s._v("src")]),s._v("是要检测的哪个目录下面的文件。")]),s._v(" "),t("p",[t("code",[s._v("--fix")]),s._v("的作用是自动修复根据你配置的规则检测出来的格式问题")]),s._v(" "),t("p",[t("strong",[s._v("一键修复:")])]),s._v(" "),t("p",[s._v("输入如下命令行，就可以自动"),t("strong",[s._v("修复你"),t("code",[s._v("src")]),s._v("文件夹下面的所有根据你配置的规则检测出来的格式问题")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("npm run lint\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"eslintignore-不检测一些文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eslintignore-不检测一些文件"}},[s._v("#")]),s._v(" .eslintignore 不检测一些文件：")]),s._v(" "),t("p",[s._v("在项目的根目录创建一个"),t("code",[s._v(".eslintignore")]),s._v("文件，用于让"),t("code",[s._v("EsLint")]),s._v("不检测一些文件。")]),s._v(" "),t("p",[s._v("比如引的一些别人的文件，插件等,比如文件中：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("src/test/*\nsrc/test2/*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("文件中的内容像上面这样写，这里第一行是不检测 src 目录下的 test 文件夹下面的所有文件。")]),s._v(" "),t("h3",{attrs:{id:"自定义规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义规则"}},[s._v("#")]),s._v(" 自定义规则：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .eslintrc.js文件")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义规则")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'no-console'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'no-const-assign'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'no-extra-bind'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[t("strong",[s._v("0、1、2 的意思：")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v('"off"')]),s._v(" 或 0 - 关闭这项规则")]),s._v(" "),t("li",[t("code",[s._v('"warn"')]),s._v(" 或 1 - 将规则视为一个警告")]),s._v(" "),t("li",[t("code",[s._v('"error"')]),s._v(" 或 2 - 将规则视为一个错误")])]),s._v(" "),t("h2",{attrs:{id:"小结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),t("p",[s._v("使用自动 VsCode+EsLint 格式化代码，在团队内部相互去看别人的代码的时候，就可以更容易的看的懂，能够极大的降低团队的沟通成本和提高心情,设置这么方便，赶紧在团队中用起来吧！")]),s._v(" "),t("h3",{attrs:{id:"点个star支持我一下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#点个star支持我一下"}},[s._v("#")]),s._v(" 点个"),t("a",{attrs:{href:"https://boom-bo.github.io/web_accumulation",target:"_blank",rel:"noopener noreferrer"}},[s._v("Star"),t("OutboundLink")],1),s._v("支持我一下~")])])}),[],!1,null,null,null);t.default=r.exports}}]);